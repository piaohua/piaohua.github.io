<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>[MySQL] show slave status 介绍 - piaohua&#39;s blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="piaohua" /><meta name="description" content="MySQL show slave status 介绍 执行show slave status返回结果 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.125.5 with theme even" />


<link rel="canonical" href="https://piaohua.github.io/post/mysql/20210829-mysql-show-slave-status/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:url" content="https://piaohua.github.io/post/mysql/20210829-mysql-show-slave-status/">
  <meta property="og:site_name" content="piaohua&#39;s blog">
  <meta property="og:title" content="[MySQL] show slave status 介绍">
  <meta property="og:description" content="MySQL show slave status 介绍 执行show slave status返回结果 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2021-08-29T17:10:57+08:00">
    <meta property="article:modified_time" content="2021-08-29T17:10:57+08:00">
    <meta property="article:tag" content="Mysql">

  <meta itemprop="name" content="[MySQL] show slave status 介绍">
  <meta itemprop="description" content="MySQL show slave status 介绍 执行show slave status返回结果 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47">
  <meta itemprop="datePublished" content="2021-08-29T17:10:57+08:00">
  <meta itemprop="dateModified" content="2021-08-29T17:10:57+08:00">
  <meta itemprop="wordCount" content="4848">
  <meta itemprop="keywords" content="Mysql"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="[MySQL] show slave status 介绍">
<meta name="twitter:description" content="MySQL show slave status 介绍 执行show slave status返回结果 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">piaohua</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/links/">
        <li class="mobile-menu-item">Links</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">piaohua</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/links/">Links</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">[MySQL] show slave status 介绍</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-08-29 </span>
        <div class="post-category">
            <a href="/categories/mysql/"> mysql </a>
            </div>
          <span class="more-meta"> 4848 words </span>
          <span class="more-meta"> 10 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#执行show-slave-status返回结果">执行<code>show slave status</code>返回结果</a></li>
    <li><a href="#show-slave-status字段解析"><code>SHOW SLAVE STATUS</code>字段解析：</a></li>
    <li><a href="#主从线程查询">主从线程查询</a></li>
    <li><a href="#参考">参考</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <blockquote>
<p>MySQL show slave status 介绍</p>
</blockquote>
<h2 id="执行show-slave-status返回结果">执行<code>show slave status</code>返回结果</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="n">MySQL</span><span class="w"> </span><span class="p">[(</span><span class="k">none</span><span class="p">)]</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">slave</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="err">\</span><span class="k">G</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">***************************</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="o">***************************</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">               </span><span class="n">Slave_IO_State</span><span class="p">:</span><span class="w"> </span><span class="n">Waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">event</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                  </span><span class="n">Master_Host</span><span class="p">:</span><span class="w"> </span><span class="mi">172</span><span class="p">.</span><span class="mi">72</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">50</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                  </span><span class="n">Master_User</span><span class="p">:</span><span class="w"> </span><span class="n">repl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                  </span><span class="n">Master_Port</span><span class="p">:</span><span class="w"> </span><span class="mi">3306</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">Connect_Retry</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="n">Master_Log_File</span><span class="p">:</span><span class="w"> </span><span class="n">master</span><span class="o">-</span><span class="n">bin</span><span class="p">.</span><span class="mi">000004</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="n">Read_Master_Log_Pos</span><span class="p">:</span><span class="w"> </span><span class="mi">1085</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">               </span><span class="n">Relay_Log_File</span><span class="p">:</span><span class="w"> </span><span class="n">slave1</span><span class="o">-</span><span class="n">relay</span><span class="o">-</span><span class="n">bin</span><span class="p">.</span><span class="mi">000002</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">Relay_Log_Pos</span><span class="p">:</span><span class="w"> </span><span class="mi">417</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Relay_Master_Log_File</span><span class="p">:</span><span class="w"> </span><span class="n">master</span><span class="o">-</span><span class="n">bin</span><span class="p">.</span><span class="mi">000004</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="n">Slave_IO_Running</span><span class="p">:</span><span class="w"> </span><span class="n">Yes</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Slave_SQL_Running</span><span class="p">:</span><span class="w"> </span><span class="n">Yes</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="n">Replicate_Do_DB</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="n">Replicate_Ignore_DB</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="n">Replicate_Do_Table</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">Replicate_Ignore_Table</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">Replicate_Wild_Do_Table</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">Replicate_Wild_Ignore_Table</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                   </span><span class="n">Last_Errno</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                   </span><span class="n">Last_Error</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                 </span><span class="n">Skip_Counter</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="n">Exec_Master_Log_Pos</span><span class="p">:</span><span class="w"> </span><span class="mi">1085</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="n">Relay_Log_Space</span><span class="p">:</span><span class="w"> </span><span class="mi">625</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="n">Until_Condition</span><span class="p">:</span><span class="w"> </span><span class="k">None</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">               </span><span class="n">Until_Log_File</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">Until_Log_Pos</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="n">Master_SSL_Allowed</span><span class="p">:</span><span class="w"> </span><span class="k">No</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="n">Master_SSL_CA_File</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="n">Master_SSL_CA_Path</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="n">Master_SSL_Cert</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Master_SSL_Cipher</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">               </span><span class="n">Master_SSL_Key</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Seconds_Behind_Master</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Master_SSL_Verify_Server_Cert</span><span class="p">:</span><span class="w"> </span><span class="k">No</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">Last_IO_Errno</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">Last_IO_Error</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">               </span><span class="n">Last_SQL_Errno</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">               </span><span class="n">Last_SQL_Error</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">Replicate_Ignore_Server_Ids</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="n">Master_Server_Id</span><span class="p">:</span><span class="w"> </span><span class="mi">573033650</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                  </span><span class="n">Master_UUID</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="n">bc15639</span><span class="o">-</span><span class="n">bc5b</span><span class="o">-</span><span class="mi">11</span><span class="n">eb</span><span class="o">-</span><span class="n">b1eb</span><span class="o">-</span><span class="mi">0242</span><span class="n">ac480032</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="n">Master_Info_File</span><span class="p">:</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="n">slave_master_info</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">SQL_Delay</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="n">SQL_Remaining_Delay</span><span class="p">:</span><span class="w"> </span><span class="k">NULL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">Slave_SQL_Running_State</span><span class="p">:</span><span class="w"> </span><span class="n">Slave</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">relay</span><span class="w"> </span><span class="n">log</span><span class="p">;</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">more</span><span class="w"> </span><span class="n">updates</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="n">Master_Retry_Count</span><span class="p">:</span><span class="w"> </span><span class="mi">86400</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                  </span><span class="n">Master_Bind</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">Last_IO_Error_Timestamp</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">Last_SQL_Error_Timestamp</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">               </span><span class="n">Master_SSL_Crl</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="n">Master_SSL_Crlpath</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="n">Retrieved_Gtid_Set</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Executed_Gtid_Set</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="n">bc15639</span><span class="o">-</span><span class="n">bc5b</span><span class="o">-</span><span class="mi">11</span><span class="n">eb</span><span class="o">-</span><span class="n">b1eb</span><span class="o">-</span><span class="mi">0242</span><span class="n">ac480032</span><span class="p">:</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">Auto_Position</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="n">Replicate_Rewrite_DB</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                 </span><span class="n">Channel_Name</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="n">Master_TLS_Version</span><span class="p">:</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="show-slave-status字段解析"><code>SHOW SLAVE STATUS</code>字段解析：</h2>
<ul>
<li>
<p>Slave_IO_State</p>
<p>SHOW PROCESSLIST输出的State字段的拷贝。SHOW PROCESSLIST用于从属I/O线程。如果线程正在试图连接到主服务器，正在等待来自主服务器的时间或正在连接到主服务器等，本语句会通知您</p>
</li>
</ul>
<p>slave I/O线程的状态，有以下几种：</p>
<ol>
<li>waiting for master update</li>
</ol>
<p>这是connecting to master状态之前的状态</p>
<ol start="2">
<li>connecting to master</li>
</ol>
<p>I/O线程正尝试连接到master</p>
<ol start="3">
<li>checking master version</li>
</ol>
<p>在与master建立连接后，会出现该状态。该状态出现的时间非常短暂。</p>
<ol start="4">
<li>registering slave on master</li>
</ol>
<p>在与master建立连接后，会出现该状态。该状态出现的时间非常短暂。</p>
<ol start="5">
<li>requesting binlog dump</li>
</ol>
<p>在与master建立连接后，会出现该状态。该状态出现的时间非常短暂。在这个状态下，I/O线程向master发送请求，请求binlog，位置从指定的binglog 名字和binglog的position位置开始。</p>
<ol start="6">
<li>waiting to reconnect after a failed binlog dump request</li>
</ol>
<p>如果因为连接断开，导致binglog的请求失败，I/O线程会进入睡眠状态。然后定期尝试重连。尝试重连的时间间隔，可以使用命令&quot;change master to master_connect_trt=X;&ldquo;改变。</p>
<ol start="7">
<li>reconnecting after a failed binglog dump request</li>
</ol>
<p>I/O进程正在尝试连接master</p>
<ol start="8">
<li>waiting for master to send event</li>
</ol>
<p>说明，已经成功连接到master，正等待二进制日志时间的到达。如果master 空闲，这个状态会持续很长时间。如果等待的时间超过了slave_net_timeout(单位是秒)的值，会出现连接超时。在这种状态下，I/O线程会人为连接失败，并开始尝试重连</p>
<ol start="9">
<li>queueing master event to the relay log</li>
</ol>
<p>此时，I/O线程已经读取了一个event，并复制到了relay log 中。这样SQL 线程可以执行此event</p>
<ol start="10">
<li>waiting to reconnect after a failed master event read</li>
</ol>
<p>读取时出现的错误(因为连接断开)。在尝试重连之前，I/O线程进入sleep状态，sleep的时间是master_connect_try的值(默认是60秒)</p>
<ol start="11">
<li>reconnecting after a failed master event read</li>
</ol>
<p>I/O线程正尝试重连master。如果连接建立，状态会变成&quot;waiting for master to send event&rdquo;</p>
<ol start="12">
<li>waiting for the slave sql thread to free enough relay log space</li>
</ol>
<p>这是因为设置了relay_log_space_limit，并且relay log的大小已经整张到了最大值。I/O线程正在等待SQL线程通过删除一些relay log，来释放relay log的空间。</p>
<ol start="13">
<li>waiting for slave mutex on exit</li>
</ol>
<p>I/O线程停止时会出现的状态，出现的时间非常短。</p>
<ul>
<li>Master_Host:</li>
</ul>
<p>主库的ip地址</p>
<ul>
<li>Master_User</li>
</ul>
<p>被用于连接主服务器的当前用户。这个是master上面的一个用户。用来负责主从复制的用户，创建主从复制的时候建立的（具有reolication slave权限）。</p>
<ul>
<li>Master_Port</li>
</ul>
<p>当前的主服务器端口，master服务器的端口，一般是3306。</p>
<ul>
<li>Connect_Retry</li>
</ul>
<p>&ndash;master-connect-retry选项的当前值。连接中断后，重新尝试连接的时间间隔。默认值是60秒。</p>
<ul>
<li>Master_Log_File</li>
</ul>
<p>I/O线程当前正在读取的主服务器二进制日志文件的名称。</p>
<ul>
<li>Read_Master_Log_Pos</li>
</ul>
<p>在当前的主服务器二进制日志中，I/O线程已经读取的位置。</p>
<ul>
<li>Relay_Log_File</li>
</ul>
<p>SQL线程当前正在读取和执行的中继日志文件的名称。</p>
<ul>
<li>Relay_Log_Pos</li>
</ul>
<p>在当前的中继日志中，SQL线程已读取和执行的位置。（Relay_Log_File下的Relay_Log_Pos其实一一对应着Relay_Master_Log_File的Exec_Master_Log_Pos。）</p>
<ul>
<li>Relay_Master_Log_File</li>
</ul>
<p>由SQL线程执行的包含多数近期事件的主服务器二进制日志文件的名称。当前slave SQL线程读取并执行的relay log的文件中多数近期事件，对应的主服务器二进制日志文件的名称。（说白点就是SQL线程从relay日志中读取的正在执行的sql语句，对应主库的sql语句记录在主库的哪个binlog日志中）</p>
<ul>
<li>Slave_IO_Running</li>
</ul>
<p>I/O线程是否被启动并成功地连接到主服务器上。</p>
<ul>
<li>Slave_SQL_Running</li>
</ul>
<p>SQL线程是否被启动。</p>
<ul>
<li>Replicate_Do_DB,Replicate_Ignore_DB</li>
</ul>
<p>使用&ndash;replicate-do-db和&ndash;replicate-ignore-db选项指定的数据库清单。</p>
<ul>
<li>Replicate_Do_Table,Replicate_Ignore_Table,Replicate_Wild_Do_Table,Replicate_Wild_Ignore_Table</li>
</ul>
<p>使用&ndash;replicate-do-table,&ndash;replicate-ignore-table,&ndash;replicate-wild-do-table和&ndash;replicate-wild-ignore_table选项指定的表清单。</p>
<ul>
<li>Last_Errno,Last_Error</li>
</ul>
<p>被多数最近被执行的查询返回的错误数量和错误消息。错误数量为0并且消息为空字符串意味着“没有错误”。如果Last_Error值不是空值，它也会在从属服务器的错误日志中作为消息显示。</p>
<p>举例说明：</p>
<p>Last_Errno: 1051</p>
<p>Last_Error: error &lsquo;Unknown table &lsquo;z&rsquo;&rsquo; on query &lsquo;drop table z&rsquo;</p>
<p>该消息指示，表z曾经存在于在主服务器中并已被取消了，但是它没有在从属服务器中存在过，因此对于从属服务器，DROP TABLE失败。（举例说明，在设置复制时，如果您忘记了把此表拷贝到从属服务器中，则这有可能发生。）</p>
<ul>
<li>Skip_Counter</li>
</ul>
<p>最近被使用的用于SQL_SLAVE_SKIP_COUNTER的值，用于设置跳过sql执行步数。</p>
<ul>
<li>Exec_Master_Log_Pos</li>
</ul>
<p>来自主服务器的二进制日志的由SQL线程执行的上一个时间的位置（Relay_Master_Log_File）。在主服务器的二进制日志中的(Relay_Master_Log_File,Exec_Master_Log_Pos)对应于在中继日志中的(Relay_Log_File,Relay_Log_Pos)。</p>
<ul>
<li>Relay_Log_Space</li>
</ul>
<p>所有原有的中继日志结合起来的总大小。</p>
<ul>
<li>Until_Condition,Until_Log_File,Until_Log_Pos</li>
</ul>
<p>在START SLAVE语句的UNTIL子句中指定的值。</p>
<p>Until_Condition具有以下值：</p>
<p>如果没有指定UNTIL子句，则没有值</p>
<p>如果从属服务器正在读取，直到达到主服务器的二进制日志的给定位置为止，则值为Master</p>
<p>如果从属服务器正在读取，直到达到其中继日志的给定位置为止，则值为Relay</p>
<p>Until_Log_File和Until_Log_Pos用于指示日志文件名和位置值。日志文件名和位置值定义了SQL线程在哪个点中止执行。</p>
<ul>
<li>Master_SSL_Allowed,Master_SSL_CA_File,Master_SSL_CA_Path,Master_SSL_Cert,Master_SSL_Cipher,Master_SSL_Key</li>
</ul>
<p>这些字段显示了被从属服务器使用的参数。这些参数用于连接主服务器。</p>
<p>Master_SSL_Allowed具有以下值：</p>
<p>如果允许对主服务器进行SSL连接，则值为Yes</p>
<p>如果不允许对主服务器进行SSL连接，则值为No</p>
<p>如果允许SSL连接，但是从属服务器没有让SSL支持被启用，则值为Ignored。</p>
<p>与SSL有关的字段的值对应于&ndash;master-ca,&ndash;master-capath,&ndash;master-cert,&ndash;master-cipher和&ndash;master-key选项的值。</p>
<ul>
<li>Seconds_Behind_Master</li>
</ul>
<p>本字段是从属服务器“落后”多少的一个指示。当从属SQL线程正在运行时（处理更新），本字段为在主服务器上由此线程执行的最近的一个事件的时间标记开始，已经过的秒数。当此线程被从属服务器I/O线程赶上，并进入闲置状态，等待来自I/O线程的更多的事件时，本字段为零。总之，本字段测量从属服务器SQL线程和从属服务器I/O线程之间的时间差距，单位以秒计。</p>
<p>如果主服务器和从属服务器之间的网络连接较快，则从属服务器I/O线程会非常接近主服务器，所以本字段能够十分近似地指示，从属服务器SQL线程比主服务器落后多少。如果网络较慢，则这种指示不准确；从属SQL线程经常会赶上读取速度较慢地从属服务器I/O线程，因此，Seconds_Behind_Master经常显示值为0。即使I/O线程落后于主服务器时，也是如此。换句话说，本列只对速度快的网络有用。</p>
<p>即使主服务器和从属服务器不具有相同的时钟，时间差计算也会起作用（当从属服务器I/O线程启动时，计算时间差。并假定从此时以后，时间差保持不变）。如果从属SQL线程不运行，或者如果从属服务器I/O线程不运行或未与主服务器连接，则Seconds_Behind_Master为NULL（意义为“未知”）。举例说明，如果在重新连接之前，从属服务器I/O线程休眠了master-connect-retry秒，则显示NULL，因为从属服务器不知道主服务器正在做什么，也不能有把握地说落后多少。</p>
<ul>
<li>Last_IO_Errno、Last_IO_Error、 Last_SQL_Errno、Last_SQL_Error:</li>
</ul>
<p>最后一次I/O线程或者SQL线程的错误号和错误消息。</p>
<ul>
<li>Replicate_Ignore_Server_Ids</li>
</ul>
<p>主从复制，从库忽略的主库服务器Id号。就是不以这些服务器Id为主库。</p>
<ul>
<li>Master_Server_Id、Master_UUID和Master_Info_File</li>
</ul>
<p>分别表示主库服务器id号，主库服务器的UUID号，还有在从库中保存主库服务器相关的目录位置。</p>
<ul>
<li>SQL_Delay: 0</li>
</ul>
<p>一个非负整数，表示秒数，Slave滞后多少秒于master。表示是否配置延迟从库。</p>
<ul>
<li>SQL_Remaining_Delay: NULL</li>
</ul>
<p>当 Slave_SQL_Running_State 等待，直到MASTER_DELAY秒后，Master执行的事件，此字段包含一个整数，表示有多少秒左右的延迟。在其他时候，这个字段是NULL。</p>
<ul>
<li>Slave_SQL_Running_State: Reading event from the relay log</li>
</ul>
<p>SQL线程运行状态：</p>
<ol>
<li>Reading event from the relay log</li>
</ol>
<p>线程已经从中继日志读取一个事件，可以对事件进行处理了。</p>
<ol start="2">
<li>Has read all relay log; waiting for the slave I/O thread to update it</li>
</ol>
<p>线程已经处理了中继日志文件中的所有事件，现在正等待I/O线程将新事件写入中继日志。</p>
<ol start="3">
<li>Waiting for slave mutex on exit</li>
</ol>
<p>线程停止时发生的一个很简单的状态。</p>
<ul>
<li>Master_Retry_Count: 86400</li>
</ul>
<p>连接主库失败最多的重试次数。</p>
<ul>
<li>Master_Bind:</li>
</ul>
<p>slave从库在多网络接口的情况下使用，以确定用哪一个slave网络接口连接到master。</p>
<ul>
<li>Last_SQL_Error_Timestamp:</li>
</ul>
<p>最后一次I/O线程或者SQL线程错误时的时间戳。</p>
<ul>
<li>Retrieved_Gtid_Set:</li>
</ul>
<p>获取到的GTID</p>
<ul>
<li>Executed_Gtid_Set:</li>
</ul>
<p>执行过的GTID</p>
<ul>
<li>Auto_Position</li>
</ul>
<p>0表示使用传统复制模式，1表示使用gtid复制模式。</p>
<p>主从复制状态查询：</p>
<p>可以对比以下2个值，是否一致：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Master_Log_File= Relay_Master_Log_File
</span></span><span class="line"><span class="cl">Read_Master_Log_Pos= Exec_Master_Log_Pos
</span></span></code></pre></td></tr></table>
</div>
</div><p>证明目前没有主从延迟状态。</p>
<p>另外也可以直接查询Seconds_Behind_Master字段：</p>
<p>Seconds_Behind_Master: 0        #从库的延迟</p>
<h2 id="主从线程查询">主从线程查询</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 在主库查询：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">MySQL</span><span class="w"> </span><span class="p">[</span><span class="n">lhrdb</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">slave</span><span class="w"> </span><span class="n">hosts</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">-----------+-------------+------+-----------+--------------------------------------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">Server_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Host</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">Port</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Master_id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Slave_UUID</span><span class="w">                           </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">-----------+-------------+------+-----------+--------------------------------------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="mi">573033651</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">172</span><span class="p">.</span><span class="mi">72</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">51</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3306</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">573033650</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">41618</span><span class="n">dbd</span><span class="o">-</span><span class="mi">7</span><span class="n">bea</span><span class="o">-</span><span class="mi">11</span><span class="n">eb</span><span class="o">-</span><span class="mi">9</span><span class="n">d95</span><span class="o">-</span><span class="mi">0242</span><span class="n">ac480033</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w"> </span><span class="mi">573033652</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">172</span><span class="p">.</span><span class="mi">72</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">52</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3306</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">573033650</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">43036</span><span class="n">dd9</span><span class="o">-</span><span class="mi">7</span><span class="n">bea</span><span class="o">-</span><span class="mi">11</span><span class="n">eb</span><span class="o">-</span><span class="mi">8</span><span class="n">dcb</span><span class="o">-</span><span class="mi">0242</span><span class="n">ac480034</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">-----------+-------------+------+-----------+--------------------------------------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- PROCESSLIST_COMMAND为Binlog Dump表示非GTID复制，Binlog Dump GTID表示MySQL 5.6.5版本新增的基于GTID复制
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">MySQL</span><span class="w"> </span><span class="p">[</span><span class="n">lhrdb</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">performance_schema</span><span class="p">.</span><span class="n">threads</span><span class="w"> </span><span class="n">a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="o">`</span><span class="n">NAME</span><span class="o">`</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;thread/sql/slave_IO&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;thread/sql/slave_sql&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">PROCESSLIST_COMMAND</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;Binlog Dump&#39;</span><span class="p">,</span><span class="s1">&#39;Binlog Dump GTID&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------------------------+------------+----------------+------------------+------------------+----------------+---------------------+------------------+---------------------------------------------------------------+---------------------------------------------------------+------------------+------+--------------+---------+-----------------+--------------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">THREAD_ID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NAME</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="k">TYPE</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_ID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_USER</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_HOST</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_DB</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_COMMAND</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_TIME</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_STATE</span><span class="w">                                             </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_INFO</span><span class="w">                                        </span><span class="o">|</span><span class="w"> </span><span class="n">PARENT_THREAD_ID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ROLE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">INSTRUMENTED</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HISTORY</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">CONNECTION_TYPE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">THREAD_OS_ID</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------------------------+------------+----------------+------------------+------------------+----------------+---------------------+------------------+---------------------------------------------------------------+---------------------------------------------------------+------------------+------+--------------+---------+-----------------+--------------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w">        </span><span class="mi">28</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">thread</span><span class="o">/</span><span class="k">sql</span><span class="o">/</span><span class="n">one_connection</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FOREGROUND</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">repl</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="mi">172</span><span class="p">.</span><span class="mi">72</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">51</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="n">Binlog</span><span class="w"> </span><span class="n">Dump</span><span class="w"> </span><span class="n">GTID</span><span class="w">    </span><span class="o">|</span><span class="w">              </span><span class="mi">583</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Master</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">binlog</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">slave</span><span class="p">;</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">more</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">slave_uuid</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;41618dbd-7bea-11eb-9d95-0242ac480033&#39;</span><span class="w"> </span><span class="o">|</span><span class="w">                </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">TCP</span><span class="o">/</span><span class="n">IP</span><span class="w">          </span><span class="o">|</span><span class="w">           </span><span class="mi">76</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">29</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">thread</span><span class="o">/</span><span class="k">sql</span><span class="o">/</span><span class="n">one_connection</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FOREGROUND</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">repl</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="mi">172</span><span class="p">.</span><span class="mi">72</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">52</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="n">Binlog</span><span class="w"> </span><span class="n">Dump</span><span class="w"> </span><span class="n">GTID</span><span class="w">    </span><span class="o">|</span><span class="w">              </span><span class="mi">582</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Master</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">binlog</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">slave</span><span class="p">;</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">more</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">slave_uuid</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;43036dd9-7bea-11eb-8dcb-0242ac480034&#39;</span><span class="w"> </span><span class="o">|</span><span class="w">                </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">TCP</span><span class="o">/</span><span class="n">IP</span><span class="w">          </span><span class="o">|</span><span class="w">           </span><span class="mi">77</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">-----------+---------------------------+------------+----------------+------------------+------------------+----------------+---------------------+------------------+---------------------------------------------------------------+---------------------------------------------------------+------------------+------+--------------+---------+-----------------+--------------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">MySQL</span><span class="w"> </span><span class="p">[</span><span class="n">lhrdb</span><span class="p">]</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w">  </span><span class="n">information_schema</span><span class="p">.</span><span class="o">`</span><span class="n">PROCESSLIST</span><span class="o">`</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="k">USER</span><span class="o">=</span><span class="s1">&#39;system user&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">command</span><span class="w">  </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;Binlog Dump&#39;</span><span class="p">,</span><span class="s1">&#39;Binlog Dump GTID&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">----+------+-------------------+------+------------------+------+---------------------------------------------------------------+------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">HOST</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DB</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">COMMAND</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">TIME</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">STATE</span><span class="w">                                                         </span><span class="o">|</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">----+------+-------------------+------+------------------+------+---------------------------------------------------------------+------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">repl</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">172</span><span class="p">.</span><span class="mi">72</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">52</span><span class="p">:</span><span class="mi">35566</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Binlog</span><span class="w"> </span><span class="n">Dump</span><span class="w"> </span><span class="n">GTID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1340</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Master</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">binlog</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">slave</span><span class="p">;</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">more</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">repl</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">172</span><span class="p">.</span><span class="mi">72</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">51</span><span class="p">:</span><span class="mi">34004</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Binlog</span><span class="w"> </span><span class="n">Dump</span><span class="w"> </span><span class="n">GTID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1341</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Master</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">binlog</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">slave</span><span class="p">;</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">more</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">----+------+-------------------+------+------------------+------+---------------------------------------------------------------+------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 在从库查询：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">MySQL</span><span class="w"> </span><span class="p">[(</span><span class="k">none</span><span class="p">)]</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">performance_schema</span><span class="p">.</span><span class="n">threads</span><span class="w"> </span><span class="n">a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="o">`</span><span class="n">NAME</span><span class="o">`</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;thread/sql/slave_IO&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;thread/sql/slave_sql&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">PROCESSLIST_COMMAND</span><span class="o">=</span><span class="s1">&#39;Binlog Dump&#39;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------------------+------------+----------------+------------------+------------------+----------------+---------------------+------------------+--------------------------------------------------------+------------------+------------------+------+--------------+---------+-----------------+--------------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">THREAD_ID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NAME</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="k">TYPE</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_ID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_USER</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_HOST</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_DB</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_COMMAND</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_TIME</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_STATE</span><span class="w">                                      </span><span class="o">|</span><span class="w"> </span><span class="n">PROCESSLIST_INFO</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">PARENT_THREAD_ID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">ROLE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">INSTRUMENTED</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">HISTORY</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">CONNECTION_TYPE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">THREAD_OS_ID</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------------------+------------+----------------+------------------+------------------+----------------+---------------------+------------------+--------------------------------------------------------+------------------+------------------+------+--------------+---------+-----------------+--------------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w">        </span><span class="mi">26</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">thread</span><span class="o">/</span><span class="k">sql</span><span class="o">/</span><span class="n">slave_io</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">FOREGROUND</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">Connect</span><span class="w">             </span><span class="o">|</span><span class="w">              </span><span class="mi">199</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">event</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">             </span><span class="o">|</span><span class="w">                </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">            </span><span class="o">|</span><span class="w">           </span><span class="mi">73</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">        </span><span class="mi">27</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">thread</span><span class="o">/</span><span class="k">sql</span><span class="o">/</span><span class="n">slave_sql</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FOREGROUND</span><span class="w"> </span><span class="o">|</span><span class="w">              </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">Connect</span><span class="w">             </span><span class="o">|</span><span class="w">              </span><span class="mi">199</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Slave</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">relay</span><span class="w"> </span><span class="n">log</span><span class="p">;</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">more</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">             </span><span class="o">|</span><span class="w">                </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">YES</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w">            </span><span class="o">|</span><span class="w">           </span><span class="mi">74</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">-----------+----------------------+------------+----------------+------------------+------------------+----------------+---------------------+------------------+--------------------------------------------------------+------------------+------------------+------+--------------+---------+-----------------+--------------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">06</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">MySQL</span><span class="w"> </span><span class="p">[(</span><span class="k">none</span><span class="p">)]</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w">  </span><span class="n">information_schema</span><span class="p">.</span><span class="o">`</span><span class="n">PROCESSLIST</span><span class="o">`</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="k">USER</span><span class="o">=</span><span class="s1">&#39;system user&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">command</span><span class="o">=</span><span class="s1">&#39;Binlog Dump&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+------+------+---------+------+--------------------------------------------------------+------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">USER</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="k">HOST</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">DB</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">COMMAND</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">TIME</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">STATE</span><span class="w">                                                  </span><span class="o">|</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+------+------+---------+------+--------------------------------------------------------+------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">|</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Connect</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">312</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Slave</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">relay</span><span class="w"> </span><span class="n">log</span><span class="p">;</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">more</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">|</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Connect</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">312</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">event</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="o">|</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">+</span><span class="c1">----+-------------+------+------+---------+------+--------------------------------------------------------+------+
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="参考">参考</h2>
<ul>
<li><a href="https://mp.weixin.qq.com/s/AArOjQSaYhD-wGGqektD9w">MySQL主从之1主2从异步复制搭建及同步测试</a></li>
<li><a href="https://mp.weixin.qq.com/s/OAUxAzM-nn59ktqDc-OkAg">MySQL主从之多源复制（3主1从）搭建及同步测试</a></li>
</ul>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content"><a href="https://piaohua.github.io/" class="theme-link">piaohua</a></span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2021-08-29
        
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">License</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/mysql/">mysql</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/mysql/20210830-mysql-dockerfile/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">[MySQL] Docker Official Image packaging for MySQL Community Server</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/docker/20210829-docker-wordpress/">
            <span class="next-text nav-default">[Docker] Docker-compose 安装 Wordpress 博客</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

  
    <script src="https://giscus.app/client.js"
            data-repo="piaohua/piaohua.github.io"
            data-repo-id="MDEwOlJlcG9zaXRvcnkyODQ0MjQ4NDM="
            data-category="Announcements"
            data-category-id="DIC_kwDOEPP6i84ChN9S"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="preferred_color_scheme"
            data-lang="zh-CN"
            crossorigin="anonymous"
            async>
    </script>

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:twopiao7@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://stackoverflow.com/" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="https://twitter.com/" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://facebook.com/" class="iconfont icon-facebook" title="facebook"></a>
      <a href="https://linkedin.com/" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://google.com/" class="iconfont icon-google" title="google"></a>
      <a href="https://github.com/piaohua/" class="iconfont icon-github" title="github"></a>
      <a href="https://weibo.com/" class="iconfont icon-weibo" title="weibo"></a>
      <a href="https://www.zhihu.com/people/piaohua-47" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://www.douban.com/people/47269566/" class="iconfont icon-douban" title="douban"></a>
      <a href="https://getpocket.com/" class="iconfont icon-pocket" title="pocket"></a>
      <a href="https://tumblr.com/" class="iconfont icon-tumblr" title="tumblr"></a>
      <a href="https://instagram.com/" class="iconfont icon-instagram" title="instagram"></a>
      <a href="https://gitlab.com/" class="iconfont icon-gitlab" title="gitlab"></a>
      <a href="https://www.bilibili.com/" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="https://piaohua.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2020 - 
    2026<span class="heart"><i class="iconfont icon-heart"></i></span><span><a href="https://piaohua.github.io/" class="theme-link">piaohua</a></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
